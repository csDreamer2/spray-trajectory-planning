# ä»£ç å®¡æ ¸ä¸åˆå¹¶æŒ‡å—

## ğŸ“‹ ç›®å½•
- [å®¡æ ¸æµç¨‹æ¦‚è¿°](#å®¡æ ¸æµç¨‹æ¦‚è¿°)
- [å®¡æ ¸å‰å‡†å¤‡](#å®¡æ ¸å‰å‡†å¤‡)
- [ä»£ç å®¡æ ¸æ ‡å‡†](#ä»£ç å®¡æ ¸æ ‡å‡†)
- [å®¡æ ¸æ“ä½œæ­¥éª¤](#å®¡æ ¸æ“ä½œæ­¥éª¤)
- [åˆå¹¶ç­–ç•¥](#åˆå¹¶ç­–ç•¥)
- [å®¡æ ¸å·¥å…·ä½¿ç”¨](#å®¡æ ¸å·¥å…·ä½¿ç”¨)
- [å¸¸è§é—®é¢˜å¤„ç†](#å¸¸è§é—®é¢˜å¤„ç†)

## ğŸ” å®¡æ ¸æµç¨‹æ¦‚è¿°

ä½œä¸ºé¡¹ç›®ç»´æŠ¤è€…ï¼Œä½ éœ€è¦å¯¹æ‰€æœ‰Pull Requestè¿›è¡Œå®¡æ ¸ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œé¡¹ç›®ç¨³å®šæ€§ã€‚

### å®¡æ ¸æµç¨‹å›¾

```
PRæäº¤ â†’ è‡ªåŠ¨æ£€æŸ¥ â†’ äººå·¥å®¡æ ¸ â†’ æµ‹è¯•éªŒè¯ â†’ åˆå¹¶/æ‹’ç»
   â†“         â†“         â†“         â†“         â†“
 GitHub   CI/CD    ä»£ç è´¨é‡   åŠŸèƒ½æµ‹è¯•   Gitåˆå¹¶
```

### å®¡æ ¸æ—¶é—´è¦æ±‚

- ğŸš€ **ç´§æ€¥ä¿®å¤**: 24å°æ—¶å†…
- ğŸ› **Bugä¿®å¤**: 2-3ä¸ªå·¥ä½œæ—¥
- âœ¨ **æ–°åŠŸèƒ½**: 3-5ä¸ªå·¥ä½œæ—¥
- ğŸ“š **æ–‡æ¡£æ›´æ–°**: 1-2ä¸ªå·¥ä½œæ—¥

## ğŸ› ï¸ å®¡æ ¸å‰å‡†å¤‡

### 1. ç¯å¢ƒé…ç½®

```bash
# ç¡®ä¿æœ¬åœ°ç¯å¢ƒæ˜¯æœ€æ–°çš„
git checkout main
git pull origin main

# é…ç½®å®¡æ ¸å·¥å…·
npm install -g @commitlint/cli @commitlint/config-conventional
pip install pre-commit
```

### 2. å®¡æ ¸æ¸…å•æ¨¡æ¿

åˆ›å»ºå®¡æ ¸æ¸…å•ï¼Œç¡®ä¿æ¯æ¬¡å®¡æ ¸çš„ä¸€è‡´æ€§ï¼š

```markdown
## ğŸ“‹ PRå®¡æ ¸æ¸…å•

### åŸºç¡€æ£€æŸ¥
- [ ] PRæ ‡é¢˜ç¬¦åˆè§„èŒƒ
- [ ] æè¿°æ¸…æ™°å®Œæ•´
- [ ] ç›¸å…³Issueå·²é“¾æ¥
- [ ] CI/CDæ£€æŸ¥é€šè¿‡

### ä»£ç è´¨é‡
- [ ] ä»£ç é£æ ¼ä¸€è‡´
- [ ] æ³¨é‡Šå……åˆ†æ¸…æ™°
- [ ] æ— æ˜æ˜¾æ€§èƒ½é—®é¢˜
- [ ] é”™è¯¯å¤„ç†å®Œå–„

### åŠŸèƒ½éªŒè¯
- [ ] åŠŸèƒ½æŒ‰é¢„æœŸå·¥ä½œ
- [ ] æ— ç ´åæ€§å˜æ›´
- [ ] æµ‹è¯•è¦†ç›–å……åˆ†
- [ ] æ–‡æ¡£å·²æ›´æ–°

### å®‰å…¨æ£€æŸ¥
- [ ] æ— å®‰å…¨æ¼æ´
- [ ] è¾“å…¥éªŒè¯å®Œå–„
- [ ] æƒé™æ§åˆ¶æ­£ç¡®
```

## ğŸ“ ä»£ç å®¡æ ¸æ ‡å‡†

### 1. ä»£ç è´¨é‡æ ‡å‡†

#### å¯è¯»æ€§æ£€æŸ¥
```cpp
// âŒ ä¸å¥½çš„ä»£ç 
void f(int x, int y) {
    if(x>0&&y>0) {
        // å¤æ‚é€»è¾‘æ²¡æœ‰æ³¨é‡Š
        for(int i=0;i<x;i++) {
            // åµŒå¥—è¿‡æ·±
            for(int j=0;j<y;j++) {
                if(data[i][j]>threshold) {
                    process(data[i][j]);
                }
            }
        }
    }
}

// âœ… å¥½çš„ä»£ç 
/**
 * @brief å¤„ç†äºŒç»´æ•°æ®çŸ©é˜µä¸­è¶…è¿‡é˜ˆå€¼çš„å…ƒç´ 
 * @param width çŸ©é˜µå®½åº¦
 * @param height çŸ©é˜µé«˜åº¦
 */
void processMatrixData(int width, int height) {
    if (!isValidDimensions(width, height)) {
        return;
    }
    
    // éå†çŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´ 
    for (int row = 0; row < height; ++row) {
        for (int col = 0; col < width; ++col) {
            if (shouldProcessElement(row, col)) {
                processElement(data[row][col]);
            }
        }
    }
}
```

#### æ€§èƒ½æ£€æŸ¥è¦ç‚¹
```cpp
// æ£€æŸ¥å†…å­˜ç®¡ç†
- æ˜¯å¦æœ‰å†…å­˜æ³„æ¼ï¼Ÿ
- æ™ºèƒ½æŒ‡é’ˆä½¿ç”¨æ˜¯å¦æ­£ç¡®ï¼Ÿ
- å¤§å¯¹è±¡æ˜¯å¦ä½¿ç”¨å¼•ç”¨ä¼ é€’ï¼Ÿ

// æ£€æŸ¥ç®—æ³•æ•ˆç‡
- æ—¶é—´å¤æ‚åº¦æ˜¯å¦åˆç†ï¼Ÿ
- æ˜¯å¦æœ‰ä¸å¿…è¦çš„é‡å¤è®¡ç®—ï¼Ÿ
- æ•°æ®ç»“æ„é€‰æ‹©æ˜¯å¦åˆé€‚ï¼Ÿ

// æ£€æŸ¥èµ„æºä½¿ç”¨
- æ–‡ä»¶å¥æŸ„æ˜¯å¦æ­£ç¡®å…³é—­ï¼Ÿ
- ç½‘ç»œè¿æ¥æ˜¯å¦åŠæ—¶é‡Šæ”¾ï¼Ÿ
- çº¿ç¨‹æ˜¯å¦æ­£ç¡®åŒæ­¥ï¼Ÿ
```

### 2. æ¶æ„è®¾è®¡å®¡æ ¸

#### æ¨¡å—èŒè´£æ£€æŸ¥
```cpp
// âŒ è¿åå•ä¸€èŒè´£åŸåˆ™
class DataProcessor {
public:
    void loadFile();        // æ–‡ä»¶æ“ä½œ
    void processData();     // æ•°æ®å¤„ç†
    void renderUI();        // UIæ¸²æŸ“
    void saveToDatabase();  // æ•°æ®åº“æ“ä½œ
};

// âœ… èŒè´£åˆ†ç¦»
class FileLoader {
public:
    bool loadFile(const QString& path);
};

class DataProcessor {
public:
    void processPointCloud(const PointCloud& data);
};

class DatabaseManager {
public:
    bool saveProcessedData(const ProcessedData& data);
};
```

#### æ¥å£è®¾è®¡å®¡æ ¸
```cpp
// æ£€æŸ¥æ¥å£è®¾è®¡
- æ¥å£æ˜¯å¦ç®€æ´æ˜äº†ï¼Ÿ
- å‚æ•°ç±»å‹æ˜¯å¦åˆé€‚ï¼Ÿ
- è¿”å›å€¼æ˜¯å¦æœ‰æ„ä¹‰ï¼Ÿ
- å¼‚å¸¸å¤„ç†æ˜¯å¦å®Œå–„ï¼Ÿ

// å¥½çš„æ¥å£è®¾è®¡ç¤ºä¾‹
class IPointCloudLoader {
public:
    virtual ~IPointCloudLoader() = default;
    
    /**
     * @brief å¼‚æ­¥åŠ è½½ç‚¹äº‘æ•°æ®
     * @param filePath æ–‡ä»¶è·¯å¾„
     * @param callback åŠ è½½å®Œæˆå›è°ƒ
     * @return åŠ è½½ä»»åŠ¡IDï¼Œç”¨äºå–æ¶ˆæ“ä½œ
     */
    virtual LoadTaskId loadAsync(
        const QString& filePath,
        std::function<void(const PointCloud&)> callback
    ) = 0;
    
    virtual bool cancelLoad(LoadTaskId taskId) = 0;
};
```

### 3. æµ‹è¯•è´¨é‡å®¡æ ¸

#### æµ‹è¯•è¦†ç›–ç‡æ£€æŸ¥
```cpp
// æ£€æŸ¥æµ‹è¯•æ˜¯å¦è¦†ç›–ï¼š
- æ­£å¸¸æµç¨‹æµ‹è¯•
- è¾¹ç•Œæ¡ä»¶æµ‹è¯•  
- å¼‚å¸¸æƒ…å†µæµ‹è¯•
- æ€§èƒ½æµ‹è¯•ï¼ˆå¦‚éœ€è¦ï¼‰

// å¥½çš„æµ‹è¯•ç¤ºä¾‹
TEST_F(PointCloudLoaderTest, LoadValidFile) {
    // æ­£å¸¸æƒ…å†µ
    auto result = loader.load("valid_pointcloud.pcd");
    EXPECT_TRUE(result.isValid());
    EXPECT_GT(result.pointCount(), 0);
}

TEST_F(PointCloudLoaderTest, LoadNonExistentFile) {
    // å¼‚å¸¸æƒ…å†µ
    auto result = loader.load("non_existent.pcd");
    EXPECT_FALSE(result.isValid());
    EXPECT_EQ(result.errorCode(), FileNotFound);
}

TEST_F(PointCloudLoaderTest, LoadLargeFile) {
    // æ€§èƒ½æµ‹è¯•
    auto start = std::chrono::high_resolution_clock::now();
    auto result = loader.load("large_pointcloud.pcd");
    auto duration = std::chrono::high_resolution_clock::now() - start;
    
    EXPECT_TRUE(result.isValid());
    EXPECT_LT(duration.count(), 5000); // 5ç§’å†…å®Œæˆ
}
```

## ğŸ” å®¡æ ¸æ“ä½œæ­¥éª¤

### 1. æ¥æ”¶PRé€šçŸ¥

å½“æœ‰æ–°çš„PRæ—¶ï¼Œä½ ä¼šæ”¶åˆ°GitHubé€šçŸ¥ã€‚ç«‹å³è¿›è¡Œåˆæ­¥æ£€æŸ¥ï¼š

```bash
# æŸ¥çœ‹PRåŸºæœ¬ä¿¡æ¯
- æ ‡é¢˜æ˜¯å¦æ¸…æ™°ï¼Ÿ
- æè¿°æ˜¯å¦å®Œæ•´ï¼Ÿ
- æ˜¯å¦é“¾æ¥äº†ç›¸å…³Issueï¼Ÿ
- CIæ£€æŸ¥æ˜¯å¦é€šè¿‡ï¼Ÿ
```

### 2. æœ¬åœ°æ£€å‡ºPRä»£ç 

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨GitHub CLI
gh pr checkout 123

# æ–¹æ³•2ï¼šæ‰‹åŠ¨æ·»åŠ è¿œç¨‹åˆ†æ”¯
git remote add contributor https://github.com/contributor/spray-trajectory-planning.git
git fetch contributor
git checkout -b pr-123 contributor/feature-branch

# æ–¹æ³•3ï¼šä½¿ç”¨GitHubçš„checkoutæŒ‡ä»¤ï¼ˆPRé¡µé¢æä¾›ï¼‰
git fetch origin pull/123/head:pr-123
git checkout pr-123
```

### 3. ä»£ç å®¡æ ¸æµç¨‹

#### ç¬¬ä¸€è½®ï¼šå¿«é€Ÿæµè§ˆ
```bash
# æŸ¥çœ‹æ–‡ä»¶å˜æ›´æ¦‚è§ˆ
git diff main --stat

# æŸ¥çœ‹ä¸»è¦å˜æ›´
git diff main --name-only | head -10

# æ£€æŸ¥æäº¤å†å²
git log main..HEAD --oneline
```

#### ç¬¬äºŒè½®ï¼šè¯¦ç»†å®¡æ ¸
```bash
# é€æ–‡ä»¶å®¡æ ¸
git diff main -- src/UI/MainWindow.cpp
git diff main -- src/Data/PointCloudLoader.h

# ä½¿ç”¨å®¡æ ¸å·¥å…·
# VS Code
code --diff main:src/file.cpp HEAD:src/file.cpp

# æˆ–ä½¿ç”¨ä¸“é—¨çš„å®¡æ ¸å·¥å…·
meld main:src/ HEAD:src/
```

#### ç¬¬ä¸‰è½®ï¼šåŠŸèƒ½æµ‹è¯•
```bash
# æ„å»ºé¡¹ç›®
mkdir build-review && cd build-review
cmake .. -DCMAKE_BUILD_TYPE=Debug
make -j$(nproc)

# è¿è¡Œæµ‹è¯•
ctest --output-on-failure

# æ‰‹åŠ¨åŠŸèƒ½æµ‹è¯•
./bin/SprayTrajectoryPlanning
```

### 4. æä¾›å®¡æ ¸åé¦ˆ

#### åœ¨GitHubä¸Šæ·»åŠ è¯„è®º

**ä»£ç çº§åˆ«è¯„è®º**ï¼š
```markdown
# åœ¨å…·ä½“ä»£ç è¡Œæ·»åŠ è¯„è®º

å»ºè®®ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆç®¡ç†å†…å­˜ï¼š
```cpp
// å½“å‰ä»£ç 
TopoDS_Shape* shape = new TopoDS_Shape();

// å»ºè®®æ”¹ä¸º
std::unique_ptr<TopoDS_Shape> shape = std::make_unique<TopoDS_Shape>();
```

**æ•´ä½“è¯„è®ºæ¨¡æ¿**ï¼š
```markdown
## ğŸ” å®¡æ ¸åé¦ˆ

### âœ… åšå¾—å¥½çš„åœ°æ–¹
- ä»£ç ç»“æ„æ¸…æ™°ï¼ŒèŒè´£åˆ†ç¦»è‰¯å¥½
- æµ‹è¯•è¦†ç›–ç‡å……åˆ†
- æ–‡æ¡£æ›´æ–°åŠæ—¶

### ğŸ”§ éœ€è¦æ”¹è¿›çš„åœ°æ–¹
- [ ] å»ºè®®åœ¨ç¬¬45è¡Œæ·»åŠ ç©ºæŒ‡é’ˆæ£€æŸ¥
- [ ] ç¬¬78è¡Œçš„å¾ªç¯å¯ä»¥ä¼˜åŒ–æ€§èƒ½
- [ ] ç¼ºå°‘å¼‚å¸¸æƒ…å†µçš„å•å…ƒæµ‹è¯•

### ğŸ“‹ å…·ä½“å»ºè®®
1. **å†…å­˜ç®¡ç†**: å»ºè®®ä½¿ç”¨RAIIæ¨¡å¼ç®¡ç†OpenCASCADEå¯¹è±¡
2. **é”™è¯¯å¤„ç†**: æ·»åŠ æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œæ—¥å¿—
3. **æ€§èƒ½ä¼˜åŒ–**: è€ƒè™‘ä½¿ç”¨ç¼“å­˜å‡å°‘é‡å¤è®¡ç®—

### ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨
è¯·ä¿®å¤ä¸Šè¿°é—®é¢˜åï¼Œæˆ‘ä¼šè¿›è¡Œç¬¬äºŒè½®å®¡æ ¸ã€‚å¦‚æœ‰ç–‘é—®ï¼Œéšæ—¶åœ¨è¯„è®ºä¸­è®¨è®ºã€‚
```

#### ä½¿ç”¨GitHubå®¡æ ¸åŠŸèƒ½

```markdown
# åœ¨PRé¡µé¢ç‚¹å‡» "Files changed" æ ‡ç­¾
# é€‰æ‹©å®¡æ ¸ç±»å‹ï¼š

1. **Comment** - ä»…æ·»åŠ è¯„è®ºï¼Œä¸åšå†³å®š
2. **Approve** - æ‰¹å‡†åˆå¹¶
3. **Request changes** - è¦æ±‚ä¿®æ”¹

# å®¡æ ¸å†³å®šçš„æ ‡å‡†ï¼š
- Approve: ä»£ç è´¨é‡è‰¯å¥½ï¼Œå¯ä»¥ç›´æ¥åˆå¹¶
- Request changes: æœ‰é‡è¦é—®é¢˜éœ€è¦ä¿®å¤
- Comment: æœ‰å»ºè®®ä½†ä¸é˜»æ­¢åˆå¹¶
```

## ğŸ”€ åˆå¹¶ç­–ç•¥

### 1. åˆå¹¶æ–¹å¼é€‰æ‹©

```bash
# 1. Merge Commitï¼ˆä¿ç•™å®Œæ•´å†å²ï¼‰
git checkout main
git merge --no-ff feature-branch
# é€‚ç”¨äºï¼šé‡è¦åŠŸèƒ½ã€éœ€è¦ä¿ç•™å¼€å‘å†å²

# 2. Squash and Mergeï¼ˆå‹ç¼©æäº¤ï¼‰
git checkout main  
git merge --squash feature-branch
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½çš„å®Œæ•´æè¿°"
# é€‚ç”¨äºï¼šå¤šä¸ªå°æäº¤ã€ä¿æŒä¸»åˆ†æ”¯æ•´æ´

# 3. Rebase and Mergeï¼ˆçº¿æ€§å†å²ï¼‰
git checkout feature-branch
git rebase main
git checkout main
git merge feature-branch
# é€‚ç”¨äºï¼šä¿æŒçº¿æ€§å†å²ã€å°å‹ä¿®å¤
```

### 2. åˆå¹¶å‰æœ€ç»ˆæ£€æŸ¥

```bash
# è‡ªåŠ¨åŒ–æ£€æŸ¥è„šæœ¬
#!/bin/bash
echo "=== åˆå¹¶å‰æœ€ç»ˆæ£€æŸ¥ ==="

# 1. ç¡®ä¿åœ¨æœ€æ–°çš„mainåˆ†æ”¯
git checkout main
git pull origin main

# 2. æ£€æŸ¥PRåˆ†æ”¯æ˜¯å¦æœ€æ–°
git checkout pr-branch
git rebase main

# 3. è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
cmake --build build --target test
if [ $? -ne 0 ]; then
    echo "âŒ æµ‹è¯•å¤±è´¥ï¼Œä¸èƒ½åˆå¹¶"
    exit 1
fi

# 4. æ£€æŸ¥ä»£ç è¦†ç›–ç‡
lcov --capture --directory . --output-file coverage.info
coverage_percent=$(lcov --summary coverage.info | grep lines | awk '{print $2}' | sed 's/%//')
if (( $(echo "$coverage_percent < 80" | bc -l) )); then
    echo "âŒ ä»£ç è¦†ç›–ç‡ä½äº80%ï¼Œå½“å‰ï¼š$coverage_percent%"
    exit 1
fi

# 5. é™æ€ä»£ç åˆ†æ
cppcheck --enable=all --error-exitcode=1 src/
if [ $? -ne 0 ]; then
    echo "âŒ é™æ€åˆ†æå‘ç°é—®é¢˜"
    exit 1
fi

echo "âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼Œå¯ä»¥åˆå¹¶"
```

### 3. åˆå¹¶åæ“ä½œ

```bash
# 1. åˆå¹¶åˆ°mainåˆ†æ”¯
git checkout main
git merge pr-branch

# 2. æ¨é€åˆ°è¿œç¨‹
git push origin main

# 3. åˆ é™¤åŠŸèƒ½åˆ†æ”¯
git branch -d pr-branch
git push origin --delete feature-branch

# 4. æ›´æ–°CHANGELOG
echo "## [1.2.0] - $(date +%Y-%m-%d)" >> CHANGELOG.md
echo "### Added" >> CHANGELOG.md
echo "- æ–°åŠŸèƒ½æè¿°" >> CHANGELOG.md

# 5. åˆ›å»ºæ ‡ç­¾ï¼ˆå¦‚æœæ˜¯ç‰ˆæœ¬å‘å¸ƒï¼‰
git tag -a v1.2.0 -m "Release version 1.2.0"
git push origin v1.2.0

# 6. é€šçŸ¥ç›¸å…³äººå‘˜
# å‘é€é‚®ä»¶æˆ–Slacké€šçŸ¥å›¢é˜Ÿæˆå‘˜
```

## ğŸ› ï¸ å®¡æ ¸å·¥å…·ä½¿ç”¨

### 1. GitHubå†…ç½®å·¥å…·

#### PRæ¨¡æ¿é…ç½®
```markdown
<!-- .github/pull_request_template.md -->
## ğŸ“‹ å˜æ›´è¯´æ˜

### ğŸ¯ å˜æ›´ç±»å‹
- [ ] æ–°åŠŸèƒ½ (feature)
- [ ] Bugä¿®å¤ (bugfix)
- [ ] æ–‡æ¡£æ›´æ–° (docs)
- [ ] æ€§èƒ½ä¼˜åŒ– (perf)
- [ ] ä»£ç é‡æ„ (refactor)

### ğŸ“ å˜æ›´æè¿°
ç®€è¦æè¿°ä½ çš„å˜æ›´å†…å®¹...

### ğŸ§ª æµ‹è¯•æƒ…å†µ
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ‰‹åŠ¨æµ‹è¯•éªŒè¯

### ğŸ“¸ æˆªå›¾/æ¼”ç¤º
ï¼ˆå¦‚æœ‰UIå˜æ›´ï¼Œè¯·æä¾›æˆªå›¾ï¼‰

### ğŸ”— ç›¸å…³Issue
Closes #
Related to #

### âœ… æ£€æŸ¥æ¸…å•
- [ ] ä»£ç éµå¾ªé¡¹ç›®è§„èŒƒ
- [ ] æ·»åŠ äº†å¿…è¦çš„æµ‹è¯•
- [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
- [ ] é€šè¿‡äº†æ‰€æœ‰CIæ£€æŸ¥
```

#### è‡ªåŠ¨åŒ–æ£€æŸ¥é…ç½®
```yaml
# .github/workflows/pr-check.yml
name: PR Quality Check

on:
  pull_request:
    branches: [ main ]

jobs:
  quality-check:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Code Quality Check
      run: |
        # æ£€æŸ¥æäº¤ä¿¡æ¯æ ¼å¼
        npx commitlint --from=origin/main --to=HEAD
        
        # æ£€æŸ¥ä»£ç é£æ ¼
        clang-format --dry-run --Werror src/**/*.cpp
        
        # é™æ€åˆ†æ
        cppcheck --enable=all --error-exitcode=1 src/
        
    - name: Security Scan
      uses: github/super-linter@v4
      env:
        DEFAULT_BRANCH: main
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

### 2. æœ¬åœ°å®¡æ ¸å·¥å…·

#### ä»£ç è´¨é‡æ£€æŸ¥è„šæœ¬
```bash
#!/bin/bash
# scripts/review_helper.sh

echo "=== ä»£ç å®¡æ ¸åŠ©æ‰‹ ==="

# 1. ä»£ç é£æ ¼æ£€æŸ¥
echo "æ£€æŸ¥ä»£ç é£æ ¼..."
find src/ -name "*.cpp" -o -name "*.h" | xargs clang-format -i
git diff --exit-code || echo "âš ï¸  å‘ç°æ ¼å¼é—®é¢˜ï¼Œå·²è‡ªåŠ¨ä¿®å¤"

# 2. é™æ€åˆ†æ
echo "è¿è¡Œé™æ€åˆ†æ..."
cppcheck --enable=all --xml --xml-version=2 src/ 2> cppcheck.xml
if [ -s cppcheck.xml ]; then
    echo "âš ï¸  å‘ç°é™æ€åˆ†æé—®é¢˜ï¼Œè¯·æŸ¥çœ‹ cppcheck.xml"
fi

# 3. æµ‹è¯•è¦†ç›–ç‡
echo "æ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡..."
mkdir -p build-coverage
cd build-coverage
cmake .. -DCMAKE_BUILD_TYPE=Debug -DENABLE_COVERAGE=ON
make -j$(nproc)
make test
lcov --capture --directory . --output-file coverage.info
genhtml coverage.info --output-directory coverage-report
echo "ğŸ“Š è¦†ç›–ç‡æŠ¥å‘Šç”Ÿæˆåœ¨ build-coverage/coverage-report/"

# 4. å†…å­˜æ³„æ¼æ£€æŸ¥
echo "æ£€æŸ¥å†…å­˜æ³„æ¼..."
valgrind --leak-check=full --show-leak-kinds=all ./bin/SprayTrajectoryPlanning --test-mode
```

### 3. IDEé›†æˆå®¡æ ¸

#### VS Codeé…ç½®
```json
// .vscode/settings.json
{
    "git.decorations.enabled": true,
    "gitlens.enabled": true,
    "cpptools.intelliSenseEngine": "Default",
    "C_Cpp.codeAnalysis.clangTidy.enabled": true,
    "C_Cpp.codeAnalysis.runAutomatically": true,
    "files.associations": {
        "*.h": "cpp",
        "*.cpp": "cpp"
    },
    "editor.rulers": [80, 120],
    "editor.formatOnSave": true
}
```

#### æ¨èæ‰©å±•
```json
// .vscode/extensions.json
{
    "recommendations": [
        "ms-vscode.cpptools",
        "ms-vscode.cmake-tools", 
        "eamodio.gitlens",
        "github.vscode-pull-request-github",
        "ms-vscode.vscode-json",
        "redhat.vscode-yaml"
    ]
}
```

## â“ å¸¸è§é—®é¢˜å¤„ç†

### 1. å®¡æ ¸å†²çªå¤„ç†

**åœºæ™¯ï¼šå¤šä¸ªå®¡æ ¸è€…æ„è§ä¸ä¸€è‡´**
```markdown
è§£å†³æ–¹æ¡ˆï¼š
1. ç»„ç»‡å®¡æ ¸ä¼šè®®è®¨è®º
2. ç”±æŠ€æœ¯è´Ÿè´£äººåšæœ€ç»ˆå†³å®š
3. è®°å½•å†³ç­–åŸå› ä¾›åç»­å‚è€ƒ
4. æ›´æ–°å®¡æ ¸æ ‡å‡†é¿å…ç±»ä¼¼å†²çª
```

**åœºæ™¯ï¼šè´¡çŒ®è€…ä¸æ¥å—å®¡æ ¸æ„è§**
```markdown
å¤„ç†æ­¥éª¤ï¼š
1. è€å¿ƒè§£é‡Šå®¡æ ¸æ„è§çš„åŸå› 
2. æä¾›å…·ä½“çš„æ”¹è¿›å»ºè®®å’Œç¤ºä¾‹
3. å¦‚æœæ˜¯é£æ ¼é—®é¢˜ï¼ŒæŒ‡å‘é¡¹ç›®è§„èŒƒæ–‡æ¡£
4. å¿…è¦æ—¶å¯ä»¥ååŠ©ä¿®æ”¹ä»£ç 
5. ä¿æŒå‹å¥½å’Œå»ºè®¾æ€§çš„æ²Ÿé€š
```

### 2. æŠ€æœ¯é—®é¢˜å¤„ç†

**åœºæ™¯ï¼šPRå¼•å…¥äº†æ€§èƒ½å›å½’**
```bash
# æ€§èƒ½æµ‹è¯•è„šæœ¬
#!/bin/bash
echo "=== æ€§èƒ½å›å½’æµ‹è¯• ==="

# 1. æ„å»ºå½“å‰ç‰ˆæœ¬
git checkout pr-branch
mkdir build-pr && cd build-pr
cmake .. -DCMAKE_BUILD_TYPE=Release
make -j$(nproc)

# 2. è¿è¡Œæ€§èƒ½æµ‹è¯•
./bin/performance_test > pr_results.txt

# 3. æ„å»ºåŸºå‡†ç‰ˆæœ¬
cd ..
git checkout main
mkdir build-main && cd build-main  
cmake .. -DCMAKE_BUILD_TYPE=Release
make -j$(nproc)
./bin/performance_test > main_results.txt

# 4. æ¯”è¾ƒç»“æœ
python scripts/compare_performance.py main_results.txt pr_results.txt
```

**åœºæ™¯ï¼šPRç ´åäº†ç°æœ‰åŠŸèƒ½**
```bash
# å›å½’æµ‹è¯•è„šæœ¬
#!/bin/bash
echo "=== å›å½’æµ‹è¯• ==="

# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
ctest --output-on-failure --parallel $(nproc)

# è¿è¡Œé›†æˆæµ‹è¯•
python scripts/integration_tests.py

# æ£€æŸ¥å…³é”®åŠŸèƒ½
./scripts/smoke_tests.sh

if [ $? -ne 0 ]; then
    echo "âŒ å‘ç°å›å½’é—®é¢˜ï¼Œè¯·ä¿®å¤åé‡æ–°æäº¤"
    exit 1
fi
```

### 3. æµç¨‹ä¼˜åŒ–

#### å®¡æ ¸æ•ˆç‡æå‡
```markdown
1. **æ‰¹é‡å®¡æ ¸**ï¼šé›†ä¸­æ—¶é—´å¤„ç†å¤šä¸ªå°PR
2. **ä¼˜å…ˆçº§æ’åº**ï¼šç´§æ€¥ä¿®å¤ > æ–°åŠŸèƒ½ > æ–‡æ¡£æ›´æ–°
3. **è‡ªåŠ¨åŒ–æ£€æŸ¥**ï¼šè®©CIå¤„ç†æ ¼å¼ã€æµ‹è¯•ç­‰æœºæ¢°æ€§æ£€æŸ¥
4. **æ¨¡æ¿åŒ–åé¦ˆ**ï¼šå‡†å¤‡å¸¸ç”¨çš„å®¡æ ¸æ„è§æ¨¡æ¿
5. **çŸ¥è¯†åˆ†äº«**ï¼šå®šæœŸåˆ†äº«å®¡æ ¸ç»éªŒå’Œæœ€ä½³å®è·µ
```

#### å®¡æ ¸è´¨é‡ä¿è¯
```markdown
1. **åŒäººå®¡æ ¸**ï¼šé‡è¦PRéœ€è¦ä¸¤äººå®¡æ ¸
2. **ä¸“å®¶å®¡æ ¸**ï¼šç‰¹å®šé¢†åŸŸçš„PRç”±ç›¸å…³ä¸“å®¶å®¡æ ¸
3. **å®¡æ ¸è®°å½•**ï¼šè®°å½•å®¡æ ¸å†³ç­–å’ŒåŸå› 
4. **å®šæœŸå›é¡¾**ï¼šåˆ†æå®¡æ ¸æ•ˆæœå’Œæ”¹è¿›ç‚¹
5. **åŸ¹è®­æ–°äºº**ï¼šå¸®åŠ©æ–°å®¡æ ¸è€…æå‡èƒ½åŠ›
```

## ğŸ“Š å®¡æ ¸ç»Ÿè®¡å’Œæ”¹è¿›

### 1. å®¡æ ¸æ•°æ®æ”¶é›†

```python
# scripts/review_stats.py
import json
import requests
from datetime import datetime, timedelta

def collect_review_stats():
    """æ”¶é›†å®¡æ ¸ç»Ÿè®¡æ•°æ®"""
    stats = {
        'total_prs': 0,
        'approved_prs': 0, 
        'rejected_prs': 0,
        'avg_review_time': 0,
        'common_issues': {}
    }
    
    # ä»GitHub APIè·å–æ•°æ®
    # åˆ†æå®¡æ ¸æ¨¡å¼å’Œè¶‹åŠ¿
    # ç”Ÿæˆæ”¹è¿›å»ºè®®
    
    return stats
```

### 2. æŒç»­æ”¹è¿›

```markdown
## æœˆåº¦å®¡æ ¸å›é¡¾

### ğŸ“Š ç»Ÿè®¡æ•°æ®
- æ€»PRæ•°é‡ï¼š45
- å¹³å‡å®¡æ ¸æ—¶é—´ï¼š2.3å¤©
- ä¸€æ¬¡é€šè¿‡ç‡ï¼š68%
- ä¸»è¦é—®é¢˜ç±»å‹ï¼šä»£ç é£æ ¼(30%)ã€æµ‹è¯•ä¸è¶³(25%)ã€æ€§èƒ½é—®é¢˜(20%)

### ğŸ¯ æ”¹è¿›æªæ–½
1. åŠ å¼ºä»£ç é£æ ¼è‡ªåŠ¨åŒ–æ£€æŸ¥
2. æä¾›æ›´å¥½çš„æµ‹è¯•æŒ‡å¯¼æ–‡æ¡£
3. å¢åŠ æ€§èƒ½æµ‹è¯•è¦†ç›–
4. ä¼˜åŒ–å®¡æ ¸æµç¨‹å‡å°‘ç­‰å¾…æ—¶é—´

### ğŸ“ˆ ä¸‹æœˆç›®æ ‡
- å¹³å‡å®¡æ ¸æ—¶é—´ç¼©çŸ­åˆ°2å¤©
- ä¸€æ¬¡é€šè¿‡ç‡æå‡åˆ°75%
- å‡å°‘é‡å¤æ€§é—®é¢˜åé¦ˆ
```

---

## ğŸ¯ æ€»ç»“

ä½œä¸ºé¡¹ç›®ç»´æŠ¤è€…ï¼Œä»£ç å®¡æ ¸æ˜¯ç¡®ä¿é¡¹ç›®è´¨é‡çš„å…³é”®ç¯èŠ‚ã€‚é€šè¿‡ï¼š

- ğŸ” **ä¸¥æ ¼çš„å®¡æ ¸æ ‡å‡†** - ç¡®ä¿ä»£ç è´¨é‡
- ğŸ› ï¸ **é«˜æ•ˆçš„å®¡æ ¸å·¥å…·** - æå‡å®¡æ ¸æ•ˆç‡  
- ğŸ¤ **å‹å¥½çš„æ²Ÿé€šæ–¹å¼** - ä¿ƒè¿›å›¢é˜Ÿåä½œ
- ğŸ“Š **æŒç»­çš„æµç¨‹æ”¹è¿›** - ä¼˜åŒ–å¼€å‘ä½“éªŒ

ä½ å¯ä»¥å»ºç«‹ä¸€ä¸ªé«˜è´¨é‡ã€é«˜æ•ˆç‡çš„ä»£ç å®¡æ ¸ä½“ç³»ï¼Œè®©é¡¹ç›®æŒç»­å¥åº·å‘å±•ã€‚

è®°ä½ï¼š**å¥½çš„å®¡æ ¸ä¸ä»…æ˜¯å‘ç°é—®é¢˜ï¼Œæ›´æ˜¯å¸®åŠ©å›¢é˜Ÿæˆé•¿å’Œé¡¹ç›®æ”¹è¿›çš„æœºä¼šï¼** ğŸš€